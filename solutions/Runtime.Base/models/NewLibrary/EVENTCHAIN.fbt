<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE FBType SYSTEM "../LibraryElement.dtd">
<FBType Name="EVENTCHAIN" Comment="Internally linked chain of events" Namespace="Runtime.Standard">
  <Attribute Name="ObsoleteNamespace" Value="nxtControl.Common" />
  <Attribute Name="Configuration.FB.IDCounter" Value="0" />
  <Attribute Name="nxtLibraryData" Value="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" />
  <Identification Standard="61499-1" Classification="Event Processing" Function="Chain of events" />
  <VersionInfo Organization="nxtControl GmbH" Version="1.0" Author="medusta" Date="2009-10-07" />
  <CompilerInfo>
    <Compiler Language="Cpp" />
  </CompilerInfo>
  <InterfaceList>
    <EventInputs>
      <Event Name="REGISTER" Comment="Register the FB in the chain. Used internally, leave unconnected.">
        <With Var="NAME" />
        <With Var="PRIO" />
        <With Var="INVERT" />
      </Event>
      <Event Name="TRIGGER" Comment="Event input. Used internally, leave unconnected.">
        <With Var="TIMEOUT" />
      </Event>
      <Event Name="ACK" Comment="Acknowledge of a generated event. Triggers the next FB in chain after DELAY. Acking something not active is ignored.">
        <With Var="DELAY" />
      </Event>
    </EventInputs>
    <EventOutputs>
      <Event Name="EO" Comment="Event output. After processing loop back to EO." />
    </EventOutputs>
    <InputVars>
      <VarDeclaration Name="TIMEOUT" Type="TIME" Comment="Max. time to wait for ACK before generating one internally." />
      <VarDeclaration Name="DELAY" Type="TIME" Comment="Time after ACK before triggering the next FB in chain." />
      <VarDeclaration Name="NAME" Type="STRING" Comment="Name of the chain this FB is part of." />
      <VarDeclaration Name="PRIO" Type="UINT" Comment="Priority. The FBs in the chain are processed according to the priority." />
      <VarDeclaration Name="INVERT" Type="BOOL" InitialValue="FALSE" Comment="If FALSE, 0 is the highest prio (first to process), if TRUE, 0 is lowest (last to process)." />
    </InputVars>
  </InterfaceList>
  <Service RightInterface="RESOURCE" LeftInterface="EVENTCHAIN">
    <ServiceSequence Name="trigger">
      <ServiceTransaction>
        <InputPrimitive Interface="EVENTCHAIN" Event="ACK" />
        <OutputPrimitive Interface="resource" Event="wait_DELAY" />
        <OutputPrimitive Interface="resource" Event="trigger_next" />
      </ServiceTransaction>
      <ServiceTransaction>
        <InputPrimitive Interface="EVENTCHAIN" Event="TRIGGER" Parameters="NAME,PRIO,INVERT" />
        <OutputPrimitive Interface="EVENTCHAIN" Event="EO" />
      </ServiceTransaction>
    </ServiceSequence>
  </Service>
</FBType>